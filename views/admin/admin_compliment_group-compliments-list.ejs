<link rel="stylesheet" href="/css/compliment_group-compliments-list.css">
<div id="group-compliments-list">
    <div id="heading">
        <div class="hide" id="turn-back-btn-for-searching-event">
            <a><i class="fa-solid fa-arrow-left-long"></i> Thoát</a>
        </div>
        <div id="title">
            <span>Danh sách khen thưởng đội nhóm</span>
        </div>
        <div id="add-btn">
            <a href="/admin/category/compliment/add-group-compliment">Thêm khen thưởng</a>
        </div>
        <div id="search">
            <input class="search" type="text" placeholder="Tìm kiếm">
            <i class="fa-solid fa-magnifying-glass"></i>
        </div>
    </div>
    <table>
        <thead>
            <tr class="table_title">
                <th id="ordinal">
                    <span class="title_name">STT</span>
                        <i class="fa-solid fa-arrow-down-short-wide" id="ordinal"></i>
                </th>
                <th id="group_code">
                    <span class="title_name">Mã nhóm</span>
                    <i class="fa-solid fa-arrow-down-short-wide" id="group_code"></i>
                </th>
                <th id="group">
                    <span class="title_name">Tên nhóm</span>
                    <i class="fa-solid fa-arrow-down-short-wide" id="group"></i>
                </th>
                <th id="compliment">
                    <span class="title_name">Tên khen thưởng (gần đây nhất)</span>
                    <i class="fa-solid fa-arrow-down-short-wide" id="compliment"></i>
                </th>
                <th id="dateCreated">
                    <span class="title_name">Ngày quyết định</span>
                    <i class="fa-solid fa-arrow-down-short-wide" id="dateCreated"></i>
                </th>
                <th id="view-group-compliment">
                    <span class="title_name">Xem</span>
                </th>
                <th id="delete-group-compliment">
                    <span class="title_name">Xoá</span>
                </th>
            </tr>
        </thead>
        <tbody>
            <% for (var i = 0; i < groupComplimentsList.length; i++) { %>
                <% const lastCompliment =
                    groupComplimentsList[i].compliments_list.sort(function(obj_1, obj_2) {
                        const date_1 = Date.parse(obj_1.dateCreated);
                        const date_2 = Date.parse(obj_2.dateCreated);
                        if (date_1 > date_2)    return 1;
                        if (date_1 < date_2)    return -1;
                        return 0;
                    }).pop(); %>
                <tr class="body" id=<%= i+1 %>>
                    <td id="ordinal"><%= (i + 1) %></td>
                    <td class="body_enable-searching body_enable-sorting"
                        id="group_code"><%= groupComplimentsList[i].group_code %></td>
                    <td class="body_enable-searching body_enable-sorting"
                        id="group"><%= groupComplimentsList[i].group %></td>
                    <td class="body_enable-searching body_enable-sorting"
                        id="compliment"><%= lastCompliment.compliment %></td>
                    <td class="body_enable-searching body_enable-sorting"
                        id="dateCreated"><%= lastCompliment.dateCreated %></td>
                    <td class="view-group-compliment">
                        <a href="/admin/category/compliment/view-group-compliments/<%= groupComplimentsList[i]._id.toString() %>">
                            <i class="fa-sharp fa-solid fa-eye"></i></a>
                    </td>
                    <td class="delete-group-compliment">
                        <a group_compliment_id=<%= groupComplimentsList[i]._id.toString() %>><i class="fa-sharp fa-solid fa-trash"></i></a>
                    </td>
                </tr>
            <% } %>
        </tbody>
    </table>
</div>
<script src="/js/compliment_group-compliments-list.js"></script>